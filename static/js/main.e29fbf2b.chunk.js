(this["webpackJsonpairports-finder"]=this["webpackJsonpairports-finder"]||[]).push([[0],{72:function(e,a,t){e.exports={App:"App_App__2KGkq"}},80:function(e,a,t){e.exports=t(93)},85:function(e,a,t){},93:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(7),i=t.n(c),o=(t(85),t(15)),l=t(32),p=t(122),m=t(137),s=t(138),u=t(132),d=t(123),h=t(124),g=t(125),f=t(126),E=t(97),b=t(134),v=t(133),y=t(71),j=t.n(y),x=t(58),O=t.n(x),w=t(69),k=t.n(w),C=t(120),N=t(51),B=[{name:"ByRadius",icon:"AppsIcon",path:"/"},{name:"ByName",icon:"SubjectIcon",path:"/byname"}],I=Object(C.a)((function(e){return{root:{display:"flex",height:"100vh"},drawer:Object(l.a)({},e.breakpoints.up("sm"),{width:300,flexShrink:0}),appBar:Object(l.a)({height:e.appBar.height},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(300,"px)"),marginLeft:300}),menuButton:Object(l.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:300},content:{flexGrow:1,padding:e.spacing(3)}}})),A=function(e){var a=e.children,t=I(),n=r.a.useState(!1),c=Object(o.a)(n,2),i=c[0],l=c[1],y=function(){l(!i)},x=r.a.createElement("div",null,r.a.createElement("div",{className:t.toolbar}),r.a.createElement(p.a,null),r.a.createElement(m.a,null,B.map((function(e){return r.a.createElement(s.a,{button:!0,component:N.b,to:e.path,key:e.name},function(e){switch(e){case"ByRadius":return r.a.createElement(O.a,{color:"primary"});case"ByName":return r.a.createElement(k.a,{color:"primary"});default:return r.a.createElement(O.a,{color:"primary"})}}(e.name),r.a.createElement(u.a,{fontSize:16,ml:1},e.name))}))));return r.a.createElement("div",{className:t.root},r.a.createElement(d.a,null,r.a.createElement(h.a,{position:"fixed",className:t.appBar},r.a.createElement(g.a,null,r.a.createElement(f.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:y,className:t.menuButton},r.a.createElement(j.a,null)),r.a.createElement(E.a,{variant:"h6",noWrap:!0},"Airport Finder"))),r.a.createElement("nav",{className:t.drawer,"aria-label":"mailbox folders"},r.a.createElement(b.a,{smUp:!0,implementation:"css"},r.a.createElement(v.a,{variant:"temporary",open:i,onClose:y,classes:{paper:t.drawerPaper}},x)),r.a.createElement(b.a,{xsDown:!0,implementation:"css"},r.a.createElement(v.a,{classes:{paper:t.drawerPaper},variant:"permanent",open:!0},x))),r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.toolbar}),a)))},L=t(38),S=t.n(L),F=t(53),P=t(61),R=function(e,a){switch(a.type){case"INITIAL":return Object(P.a)({},e,{initialLat:a.payload.lat,initialLng:a.payload.lng});case"UPDATE":return Object(P.a)({},e,{lat:a.payload.lat,lng:a.payload.lng});default:return e}},T=function(e){return{type:"UPDATE",payload:e}},D=Object(n.createContext)(),z={initialLat:null,initialLng:null,lat:null,lng:null},G=function(e){var a=e.children,t=Object(n.useReducer)(R,z),c=Object(o.a)(t,2),i=c[0],l=c[1];return Object(n.useEffect)((function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){l(T({lat:e.coords.latitude,lng:e.coords.longitude})),l({type:"INITIAL",payload:{lat:e.coords.latitude,lng:e.coords.longitude}})}))}),[]),r.a.createElement(D.Provider,{value:{location:i,dispatch:l}},a)},J=t(42),U=Object(C.a)((function(e){return{root:{},map:{height:"calc(70vh - ".concat(e.appBar.height,"px)")}}})),W=function(e){var a=e.airportData,t=Object(n.useContext)(D),c=t.location,i=t.dispatch,l=U(),p=Object(n.useState)({name:null,showCity:!1}),m=Object(o.a)(p,2),s=m[0],u=m[1],d=a.map((function(e){return r.a.createElement("div",{key:e.airportId},r.a.createElement(J.c,{icon:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png",position:{lat:e.location.latitude,lng:e.location.longitude},onClick:function(){return function(e){var t=a.filter((function(a){return a.airportId===e.airportId}));u({name:t[0].name,showCity:!0}),i(T({lat:e.location.latitude,lng:e.location.longitude}))}(e)}}))}));return r.a.createElement("div",null,s.showCity?r.a.createElement(E.a,{variant:"h5",component:"h5"},"Airport name: ",s.name):null,r.a.createElement(J.b,{googleMapsApiKey:"AIzaSyAjHlJRY2IR6u30PkgroKuhzJ5lEkyT0qU",loadingElement:r.a.createElement("div",null,"Loading...")},r.a.createElement(J.a,{id:"circle-example",mapContainerClassName:l.map,zoom:10,center:{lat:c.lat,lng:c.lng}},d,r.a.createElement(J.c,{position:{lat:c.initialLat,lng:c.initialLng}}))))},K=function(e){var a=Object(n.useState)(e),t=Object(o.a)(a,2),r=t[0],c=t[1];return[r,function(e){return c(e.target.value)}]},_=t(4),q=t(127),M=t(136),H=t(128),Y=t(139),$=t(129),Q=Object(C.a)((function(e){return{root:{height:"calc(30vh - ".concat(e.appBar.height,"px)")},inputBox:{},margin:{margin:e.spacing(1)},textField:{margin:e.spacing(4)}}})),V=function(){var e=Q(),a=Object(n.useState)([]),t=Object(o.a)(a,2),c=t[0],i=t[1],l=Object(n.useContext)(D).location,p=K(""),m=Object(o.a)(p,2),s=m[0],d=m[1],h=function(){var e=Object(F.a)(S.a.mark((function e(){var a,t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cometari-airportsfinder-v1.p.rapidapi.com/api/airports/by-radius?radius=".concat(s,"&lng=").concat(l.lng,"&lat=").concat(l.lat),{method:"GET",headers:{"x-rapidapi-host":"cometari-airportsfinder-v1.p.rapidapi.com","x-rapidapi-key":"53205daddemsh34fc06c1c791bf0p142a44jsn13f8d34be766"}});case 2:return a=e.sent,e.next=5,a.json();case 5:t=e.sent,i(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:e.root},r.a.createElement(E.a,{variant:"h4",component:"h4",align:"center"},"Find a nearby airport:"),r.a.createElement(u.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(q.a,{className:Object(_.a)(e.margin,e.textField)},r.a.createElement(M.a,{type:"number",value:s,onChange:d,endAdornment:r.a.createElement(H.a,{position:"end"},"km")}),r.a.createElement(Y.a,null,"Radius")),r.a.createElement($.a,{className:Object(_.a)(e.margin),variant:"contained",color:"primary",onClick:function(){return h()}},"Find")),r.a.createElement("hr",null),c.length>0?r.a.createElement(W,{airportData:c}):null)},X=Object(C.a)((function(e){return{root:{height:"calc(30vh - ".concat(e.appBar.height,"px)")},inputBox:{},margin:{margin:e.spacing(1)},textField:{margin:e.spacing(4)}}})),Z=function(){var e=Object(n.useContext)(D),a=e.lat,t=e.lng,c=Object(n.useState)([]),i=Object(o.a)(c,2),l=i[0],p=i[1],m=X(),s=K(""),d=Object(o.a)(s,2),h=d[0],g=d[1],f=function(){var e=Object(F.a)(S.a.mark((function e(){var a,t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cometari-airportsfinder-v1.p.rapidapi.com/api/airports/by-text?text=".concat(h),{method:"GET",headers:{"x-rapidapi-host":"cometari-airportsfinder-v1.p.rapidapi.com","x-rapidapi-key":"53205daddemsh34fc06c1c791bf0p142a44jsn13f8d34be766"}});case 2:return a=e.sent,e.next=5,a.json();case 5:t=e.sent,p(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:m.root},r.a.createElement(E.a,{variant:"h4",component:"h4",align:"center"},"Find airport by city:"),r.a.createElement(u.a,{display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(q.a,{className:Object(_.a)(m.margin,m.textField)},r.a.createElement(M.a,{type:"text",value:h,onChange:g}),r.a.createElement(Y.a,null,"City name")),r.a.createElement($.a,{className:Object(_.a)(m.margin),variant:"contained",color:"primary",onClick:function(){return f()}},"Find")),r.a.createElement("hr",null),l.length>0?r.a.createElement(W,{lat:a,lng:t,airportData:l}):null)},ee=t(72),ae=t.n(ee),te=t(29),ne=function(){return r.a.createElement("div",{className:ae.a.App},r.a.createElement(G,null,r.a.createElement(N.a,{basename:"airport-finder"},r.a.createElement(A,null,r.a.createElement(te.c,null,r.a.createElement(te.a,{exact:!0,path:"/",component:V}),r.a.createElement(te.a,{exact:!0,path:"/byname",component:Z}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var re=t(73),ce=t(131),ie=t(130),oe=Object(re.a)({palette:{primary:ie.a},appBar:{height:65},drawerWidth:340});i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ce.a,{theme:oe},r.a.createElement(ne,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[80,1,2]]]);
//# sourceMappingURL=main.e29fbf2b.chunk.js.map